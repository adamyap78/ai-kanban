<!-- Header Section -->
<div class="flex justify-between items-center mb-8">
    <div>
        <h1 class="text-3xl font-bold text-base-content mb-2">Your Boards</h1>
        <p class="text-base-content/70">Select a board to start working</p>
    </div>
    <div class="flex gap-3">
        <a href="/orgs/new" class="btn btn-primary">
            <svg class="w-4 h-4 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 4v16m8-8H4"></path>
            </svg>
            Create Board
        </a>
    </div>
</div>

<!-- Flash Messages -->
<% if (locals.flash?.success) { %>
    <div class="alert alert-success mb-6">
        <%= locals.flash.success %>
    </div>
<% } %>

<% if (locals.flash?.error) { %>
    <div class="alert alert-error mb-6">
        <%= locals.flash.error %>
    </div>
<% } %>

<!-- Boards Grid -->
<% if (boards && boards.length > 0) { %>
    <div class="grid gap-6 lg:grid-cols-3 md:grid-cols-2 grid-cols-1">
        <% boards.forEach(board => { %>
            <a href="/orgs/<%= board.organization.slug %>/boards/<%= board.id %>" 
               class="card bg-base-100 shadow-sm hover:shadow-md transition-shadow border border-base-300 hover:border-primary/50">
                <div class="card-body p-6">
                    <div class="flex justify-between items-start mb-3">
                        <h2 class="card-title text-lg text-base-content"><%= board.name %></h2>
                        <div class="badge badge-outline badge-sm"><%= board.organization.name %></div>
                    </div>
                    
                    <% if (board.description) { %>
                        <p class="text-base-content/70 text-sm mb-4 line-clamp-2"><%= board.description %></p>
                    <% } else { %>
                        <p class="text-base-content/50 text-sm mb-4 italic">No description</p>
                    <% } %>
                    
                    <div class="flex justify-between items-center text-xs text-base-content/50">
                        <span>Updated <%= new Date(board.updatedAt).toLocaleDateString() %></span>
                        <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"></path>
                        </svg>
                    </div>
                </div>
            </a>
        <% }); %>
    </div>
<% } else { %>
    <!-- Empty State -->
    <div class="text-center py-16">
        <div class="max-w-md mx-auto">
            <div class="text-6xl mb-6">ðŸŽ¯</div>
            <h3 class="text-2xl font-semibold text-base-content mb-4">No boards yet</h3>
            <p class="text-base-content/70 mb-8">Create your first board to start organizing your work</p>
            <div class="space-y-4">
                <a href="/orgs/new" class="btn btn-primary btn-lg">
                    <svg class="w-5 h-5 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 4v16m8-8H4"></path>
                    </svg>
                    Create Your First Board
                </a>
                <div class="text-sm text-base-content/50">
                    You'll need to create an organization first
                </div>
            </div>
        </div>
    </div>
<% } %>

<!-- Quick Stats (if boards exist) -->
<% if (boards && boards.length > 0) { %>
    <div class="mt-12 pt-8 border-t border-base-300">
        <div class="stats stats-horizontal shadow-sm">
            <div class="stat">
                <div class="stat-title">Total Boards</div>
                <div class="stat-value text-primary"><%= boards.length %></div>
                <div class="stat-desc">Across all organizations</div>
            </div>
            
            <div class="stat">
                <div class="stat-title">Organizations</div>
                <div class="stat-value text-secondary"><%= [...new Set(boards.map(b => b.organization.id))].length %></div>
                <div class="stat-desc">Workspaces you belong to</div>
            </div>
            
            <div class="stat">
                <div class="stat-title">Most Recent</div>
                <div class="stat-value text-accent text-sm"><%= boards[0].name %></div>
                <div class="stat-desc">Updated <%= new Date(boards[0].updatedAt).toLocaleDateString() %></div>
            </div>
        </div>
    </div>
<% } %>